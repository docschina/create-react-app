(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{154:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return l})),t.d(n,"rightToc",(function(){return c})),t.d(n,"default",(function(){return p}));t(58),t(31),t(22),t(23),t(59),t(0);var a=t(228);function b(){return(b=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}var l={id:"adding-custom-environment-variables",title:"\u6dfb\u52a0\u81ea\u5b9a\u4e49\u73af\u5883\u53d8\u91cf",sidebar_label:"\u73af\u5883\u53d8\u91cf"},c=[{value:"\u5728 HTML \u4e2d\u5f15\u7528\u73af\u5883\u53d8\u91cf",id:"\u5728-html-\u4e2d\u5f15\u7528\u73af\u5883\u53d8\u91cf",children:[]},{value:"\u5728\u4f60\u7684 Shell \u4e2d\u6dfb\u52a0\u4e34\u65f6\u73af\u5883\u53d8\u91cf",id:"\u5728\u4f60\u7684-shell-\u4e2d\u6dfb\u52a0\u4e34\u65f6\u73af\u5883\u53d8\u91cf",children:[{value:"Windows (cmd.exe)",id:"windows-cmdexe",children:[]},{value:"Windows (Powershell)",id:"windows-powershell",children:[]},{value:"Linux, macOS (Bash)",id:"linux-macos-bash",children:[]}]},{value:"\u5728 .env \u4e2d\u6dfb\u52a0\u5f00\u53d1\u73af\u5883\u53d8\u91cf",id:"\u5728-env-\u4e2d\u6dfb\u52a0\u5f00\u53d1\u73af\u5883\u53d8\u91cf",children:[]},{value:"\u8fd8\u53ef\u4ee5\u4f7f\u7528\u54ea\u4e9b .env \u6587\u4ef6\uff1f",id:"\u8fd8\u53ef\u4ee5\u4f7f\u7528\u54ea\u4e9b-env-\u6587\u4ef6\uff1f",children:[{value:"\u5728 .env \u4e2d\u6269\u5c55\u73af\u5883\u53d8\u91cf",id:"\u5728-env-\u4e2d\u6269\u5c55\u73af\u5883\u53d8\u91cf",children:[]}]}],r={rightToc:c},i="wrapper";function p(e){var n=e.components,t=function(e,n){if(null==e)return{};var t,a,b={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(b[t]=e[t]);return b}(e,["components"]);return Object(a.b)(i,b({},r,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a\u8be5\u529f\u80fd\u4ec5\u652f\u6301 ",Object(a.b)("inlineCode",{parentName:"p"},"react-scripts@0.2.3")," \u53ca\u4ee5\u4e0a\u7248\u672c\u3002")),Object(a.b)("p",null,"\u4f60\u7684\u9879\u76ee\u53ef\u4ee5\u4f7f\u7528\u5728\u5f00\u53d1\u73af\u5883\u4e2d\u58f0\u660e\u7684\u53d8\u91cf\uff0c\u5c31\u597d\u50cf\u5b83\u4eec\u76f4\u63a5\u58f0\u660e\u5728\u4f60\u7684 JS \u6587\u4ef6\u4e2d\u4e00\u6837\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4f60\u4f1a\u83b7\u5f97\u9884\u5b9a\u4e49 ",Object(a.b)("inlineCode",{parentName:"p"},"NODE_ENV")," \u4ee5\u53ca\u5176\u4ed6\u4ee5 ",Object(a.b)("inlineCode",{parentName:"p"},"REACT_APP_")," \u5f00\u5934\u7684\u73af\u5883\u53d8\u91cf\u3002"),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"\u8b66\u544a\uff1a\u8bf7\u52ff\u5728\u4f60\u7684 React \u5e94\u7528\u4e2d\u5b58\u50a8\u79c1\u5bc6\u4fe1\u606f\uff08\u4f8b\u5982\u79c1\u6709 API \u5bc6\u94a5\uff09\uff01"),Object(a.b)("p",{parentName:"blockquote"},"\u73af\u5883\u53d8\u91cf\u4f1a\u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\u5d4c\u5165\uff0c\u8fd9\u610f\u5473\u7740\u6240\u6709\u4eba\u90fd\u53ef\u4ee5\u901a\u8fc7\u76f4\u63a5\u68c0\u67e5\u5e94\u7528\u6587\u4ef6\u6765\u67e5\u9605\u5b83\u4eec\u3002")),Object(a.b)("p",null,Object(a.b)("strong",{parentName:"p"},"\u73af\u5883\u53d8\u91cf\u662f\u5728\u6784\u5efa\u9636\u6bb5\u5d4c\u5165\u7684"),"\u3002\u7531\u4e8e Create React App \u4f1a\u751f\u6210\u9759\u6001\u7684 HTML/CSS/JS \u5305\uff0c\u56e0\u6b64\u4f60\u65e0\u6cd5\u5728\u8fd0\u884c\u65f6\u8bfb\u53d6\u5b83\u4eec\u3002\u8981\u5728\u8fd0\u884c\u65f6\u8bfb\u53d6\u5b83\u4eec\uff0c\u4f60\u9700\u8981\u5c06 HTML \u52a0\u8f7d\u5230\u670d\u52a1\u5668\u5185\u5b58\u4e2d\uff0c\u5e76\u5728\u8fd0\u884c\u65f6\u4e2d\u66ff\u6362\u5360\u4f4d\u7b26\uff0c\u5c31\u50cf",Object(a.b)("a",b({parentName:"p"},{href:"/docs/title-and-meta-tags#injecting-data-from-the-server-into-the-page"}),"\u8fd9\u7bc7\u6587\u7ae0"),"\u8bf4\u7684\u90a3\u6837\u3002\u53e6\u5916\uff0c\u4f60\u53ef\u4ee5\u5728\u66f4\u6539\u5b83\u4eec\u65f6\u968f\u65f6\u5728\u670d\u52a1\u5668\u4e0a\u91cd\u65b0\u8fdb\u884c\u6784\u5efa\u3002"),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a\u4f60\u5fc5\u987b\u521b\u5efa\u4ee5 ",Object(a.b)("inlineCode",{parentName:"p"},"REACT_APP_")," \u5f00\u5934\u7684\u81ea\u5b9a\u4e49\u73af\u5883\u53d8\u91cf\u3002\u4e3a\u4e86\u9632\u6b62\u610f\u5916",Object(a.b)("a",b({parentName:"p"},{href:"https://github.com/facebook/create-react-app/issues/865#issuecomment-252199527"}),"\u5728\u673a\u5668\u4e0a\u66b4\u9732\u53ef\u80fd\u5177\u6709\u76f8\u540c\u540d\u79f0\u7684\u79c1\u94a5"),"\uff0c",Object(a.b)("inlineCode",{parentName:"p"},"NODE_ENV")," \u610f\u5916\u7684\u4efb\u4f55\u5176\u4ed6\u53d8\u91cf\u90fd\u4f1a\u88ab\u5ffd\u7565\u3002\u66f4\u6539\u4efb\u4f55\u73af\u5883\u53d8\u91cf\u90fd\u9700\u8981\u4f60\u91cd\u542f\u5f00\u53d1\u670d\u52a1\u5668\uff08\u5982\u679c\u6b63\u5728\u8fd0\u884c\u7684\u8bdd\uff09\u3002")),Object(a.b)("p",null,"\u8fd9\u4e9b\u73af\u5883\u53d8\u91cf\u5c06\u4f1a\u4e3a\u4f60\u5b9a\u4e49\u5728 ",Object(a.b)("inlineCode",{parentName:"p"},"process.env")," \u4e0a\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u540d\u4e3a ",Object(a.b)("inlineCode",{parentName:"p"},"REACT_APP_NOTE_SECRET_CODE")," \u7684\u73af\u5883\u53d8\u91cf\u5c06\u4f1a\u5728\u4f60\u7684 JS \u4e2d\u663e\u793a\u4e3a ",Object(a.b)("inlineCode",{parentName:"p"},"process.env.REACT_APP_NOT_SECRET_CODE"),"\u3002"),Object(a.b)("p",null,"\u8fd8\u6709\u4e00\u4e2a\u5185\u7f6e\u73af\u5883\u53d8\u91cf\u53eb\u505a ",Object(a.b)("inlineCode",{parentName:"p"},"NODE_ENV"),"\uff0c\u4f60\u53ef\u4ee5\u4ece ",Object(a.b)("inlineCode",{parentName:"p"},"process.env.NODE_ENV")," \u4e2d\u5bf9\u5176\u8fdb\u884c\u8bfb\u53d6\u3002\u5f53\u4f60\u6267\u884c ",Object(a.b)("inlineCode",{parentName:"p"},"npm start")," \u65f6\uff0c\u5b83\u603b\u662f\u7b49\u4e8e ",Object(a.b)("inlineCode",{parentName:"p"},"'development'"),"\uff0c\u5f53\u4f60\u6267\u884c ",Object(a.b)("inlineCode",{parentName:"p"},"npm test")," \u65f6\uff0c\u5b83\u603b\u662f\u7b49\u4e8e ",Object(a.b)("inlineCode",{parentName:"p"},"'test'"),"\uff1b\u5f53\u4f60\u6267\u884c ",Object(a.b)("inlineCode",{parentName:"p"},"npm run build")," \u4ee5\u751f\u6210\u751f\u4ea7\u73af\u5883\u6784\u5efa\u5305\u65f6\uff0c\u5b83\u59cb\u7ec8\u7b49\u4e8e ",Object(a.b)("inlineCode",{parentName:"p"},"'production'"),"\u3002",Object(a.b)("strong",{parentName:"p"},"\u4f60\u4e0d\u80fd\u624b\u52a8\u8986\u76d6 ",Object(a.b)("inlineCode",{parentName:"strong"},"NODE_ENV")),"\uff0c\u8fd9\u6837\u53ef\u4ee5\u9632\u6b62\u5f00\u53d1\u4eba\u5458\u5c06\u8fd0\u884c\u7f13\u6162\u7684\u5f00\u53d1\u7248\u672c\u610f\u5916\u90e8\u7f72\u81f3\u751f\u4ea7\u73af\u5883\u3002"),Object(a.b)("p",null,"\u8fd9\u4e9b\u73af\u5883\u53d8\u91cf\u5728\u6839\u636e\u9879\u76ee\u7684\u90e8\u7f72\u4f4d\u7f6e\u6709\u6761\u4ef6\u5730\u663e\u793a\u4fe1\u606f\uff0c\u6216\u6d88\u8d39\u7248\u672c\u63a7\u5236\u5916\u7684\u654f\u611f\u6570\u636e\u6765\u8bf4\u5f88\u6709\u7528\u3002"),Object(a.b)("p",null,"\u9996\u5148\uff0c\u4f60\u9700\u8981\u5b9a\u4e49\u73af\u5883\u53d8\u91cf\u3002\u4f8b\u5982\uff0c\u5047\u8bbe\u4f60\u8981\u5728 ",Object(a.b)("inlineCode",{parentName:"p"},"<form>")," \u4e2d\u4f7f\u7528\u4e00\u4e2a\u73af\u5883\u53d8\u91cf\uff1a"),Object(a.b)("pre",null,Object(a.b)("code",b({parentName:"pre"},{className:"language-jsx"}),'render() {\n  return (\n    <div>\n      <small>You are running this application in <b>{process.env.NODE_ENV}</b> mode.</small>\n      <form>\n        <input type="hidden" defaultValue={process.env.REACT_APP_NOT_SECRET_CODE} />\n      </form>\n    </div>\n  );\n}\n')),Object(a.b)("p",null,"\u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\uff0c",Object(a.b)("inlineCode",{parentName:"p"},"process.env.REACT_APP_NOT_SECRET_CODE")," \u5c06\u88ab\u66ff\u6362\u4e3a ",Object(a.b)("inlineCode",{parentName:"p"},"REACT_APP_NOT_SECRET_CODE")," \u73af\u5883\u53d8\u91cf\u7684\u503c\u3002\u8bf7\u8bb0\u4f4f\uff0c",Object(a.b)("inlineCode",{parentName:"p"},"NODE_ENV")," \u53d8\u91cf\u5c06\u4f1a\u88ab\u81ea\u52a8\u8bbe\u5b9a\u3002"),Object(a.b)("p",null,"\u5728\u6d4f\u89c8\u5668\u4e2d\u52a0\u8f7d\u5e94\u7528\u7a0b\u5e8f\u5e76\u68c0\u67e5 ",Object(a.b)("inlineCode",{parentName:"p"},"<input>")," \u65f6\uff0c\u4f60\u4f1a\u770b\u5230\u5b83\u7684\u503c\u88ab\u8bbe\u5b9a\u4e3a ",Object(a.b)("inlineCode",{parentName:"p"},"abcdef"),"\uff0c\u5728\u6267\u884c ",Object(a.b)("inlineCode",{parentName:"p"},"npm start")," \u65f6\uff0c\u7c97\u4f53\u6587\u672c\u5c06\u4f1a\u663e\u793a\u5f53\u524d\u73af\u5883\u3002"),Object(a.b)("pre",null,Object(a.b)("code",b({parentName:"pre"},{className:"language-html"}),'<div>\n  <small>You are running this application in <b>development</b> mode.</small>\n  <form>\n    <input type="hidden" value="abcdef" />\n  </form>\n</div>\n')),Object(a.b)("p",null,"\u4e0a\u9762\u7684\u8868\u683c\u6b63\u5728\u5f53\u524d\u73af\u5883\u4e2d\u5bfb\u627e\u53eb\u505a ",Object(a.b)("inlineCode",{parentName:"p"},"REACT_APP_NOT_SECRET_CODE")," \u7684\u73af\u5883\u53d8\u91cf\u3002\u4e3a\u4e86\u4f7f\u7528\u8fd9\u4e2a\u503c\uff0c\u6211\u4eec\u9700\u8981\u5728\u73af\u5883\u4e2d\u5bf9\u5176\u8fdb\u884c\u5b9a\u4e49\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u5f0f\u5b8c\u6210\uff1a\u5728 shell \u4e2d\u6216\u5728 ",Object(a.b)("inlineCode",{parentName:"p"},".env")," \u6587\u4ef6\u4e2d\u3002\u4e4b\u540e\u7684\u7ae0\u8282\u4e2d\u5c06\u4f1a\u4ecb\u7ecd\u8fd9\u4e24\u79cd\u65b9\u5f0f\u3002"),Object(a.b)("p",null,"\u53ef\u4ee5\u8bbf\u95ee ",Object(a.b)("inlineCode",{parentName:"p"},"NODE_ENV")," \u5bf9\u4e8e\u6709\u6761\u4ef6\u7684\u6267\u884c\u64cd\u4f5c\u6765\u8bf4\u4e5f\u5f88\u6709\u7528\uff1a"),Object(a.b)("pre",null,Object(a.b)("code",b({parentName:"pre"},{className:"language-js"}),"if (process.env.NODE_ENV !== 'production') {\n  analytics.disable();\n}\n")),Object(a.b)("p",null,"\u5f53\u4f60\u6267\u884c ",Object(a.b)("inlineCode",{parentName:"p"},"npm run build")," \u7f16\u8bd1\u7a0b\u5e8f\u65f6\uff0c\u538b\u7f29\u6b65\u9aa4\u5c06\u4f1a\u8df3\u8fc7\u6b64\u5224\u65ad\u6761\u4ef6\uff0c\u4e14\u6700\u7ec8\u7684\u6253\u5305\u6587\u4ef6\u5c06\u4f1a\u6bd4\u4ee5\u5f80\u66f4\u5c0f\u3002"),Object(a.b)("h2",{id:"\u5728-html-\u4e2d\u5f15\u7528\u73af\u5883\u53d8\u91cf"},"\u5728 HTML \u4e2d\u5f15\u7528\u73af\u5883\u53d8\u91cf"),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a\u8be5\u529f\u80fd\u4ec5\u652f\u6301 ",Object(a.b)("inlineCode",{parentName:"p"},"react-scripts@0.9.0")," \u53ca\u4ee5\u4e0a\u7248\u672c\u3002")),Object(a.b)("p",null,"\u4f60\u8fd8\u53ef\u4ee5\u5728 ",Object(a.b)("inlineCode",{parentName:"p"},"public/index.html")," \u4e2d\u8bbf\u95ee\u4ee5 ",Object(a.b)("inlineCode",{parentName:"p"},"REACT_APP_")," \u5f00\u5934\u7684\u73af\u5883\u53d8\u91cf\uff0c\u4f8b\u5982\uff1a"),Object(a.b)("pre",null,Object(a.b)("code",b({parentName:"pre"},{className:"language-html"}),"<title>%REACT_APP_WEBSITE_NAME%</title>\n")),Object(a.b)("p",null,"\u8bf7\u6ce8\u610f\uff0c\u4ee5\u4e0a\u90e8\u5206\u7684\u8b66\u544a\u9002\u7528\u4e8e\uff1a"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"\u9664\u4e86\u4e00\u4e9b\u5185\u7f6e\u53d8\u91cf\uff08",Object(a.b)("inlineCode",{parentName:"li"},"NODE_ENV")," \u4e0e ",Object(a.b)("inlineCode",{parentName:"li"},"PUBLIC_URL"),"\uff09\u4ee5\u5916\uff0c\u53d8\u91cf\u540d\u79f0\u5fc5\u987b\u4ee5 ",Object(a.b)("inlineCode",{parentName:"li"},"REACT_APP_")," \u5f00\u5934\u624d\u80fd\u8d77\u4f5c\u7528\u3002"),Object(a.b)("li",{parentName:"ul"},"\u5728\u6784\u5efa\u65f6\u6ce8\u5165\u73af\u5883\u53d8\u91cf\u3002\u5982\u679c\u9700\u8981\u5728\u8fd0\u884c\u65f6\u6ce8\u5165\u5b83\u4eec\uff0c",Object(a.b)("a",b({parentName:"li"},{href:"/docs/title-and-meta-tags#generating-dynamic-meta-tags-on-the-server"}),"\u8bf7\u9075\u5faa\u6b64\u65b9\u6cd5"),"\u3002")),Object(a.b)("h2",{id:"\u5728\u4f60\u7684-shell-\u4e2d\u6dfb\u52a0\u4e34\u65f6\u73af\u5883\u53d8\u91cf"},"\u5728\u4f60\u7684 Shell \u4e2d\u6dfb\u52a0\u4e34\u65f6\u73af\u5883\u53d8\u91cf"),Object(a.b)("p",null,"\u5b9a\u4e49\u73af\u5883\u53d8\u91cf\u53ef\u80fd\u4f1a\u56e0\u64cd\u4f5c\u7cfb\u7edf\u800c\u5f02\u3002\u540c\u6837\u91cd\u8981\u7684\u662f\uff0c\u7406\u89e3\u8fd9\u79cd\u65b9\u5f0f\u4ec5\u5728 shell \u4e34\u65f6\u4f1a\u8bdd\u7684\u751f\u547d\u5468\u671f\u4e2d\u8d77\u4f5c\u7528\u3002"),Object(a.b)("h3",{id:"windows-cmdexe"},"Windows (cmd.exe)"),Object(a.b)("pre",null,Object(a.b)("code",b({parentName:"pre"},{className:"language-cmd"}),'set "REACT_APP_NOT_SECRET_CODE=abcdef" && npm start\n')),Object(a.b)("p",null,"\uff08\u6ce8\u610f\uff1a\u5fc5\u987b\u5728\u53d8\u91cf\u8d4b\u503c\u5468\u56f4\u52a0\u4e0a\u5f15\u53f7\uff0c\u4ee5\u907f\u514d\u51fa\u73b0\u7a7a\u683c\uff09"),Object(a.b)("h3",{id:"windows-powershell"},"Windows (Powershell)"),Object(a.b)("pre",null,Object(a.b)("code",b({parentName:"pre"},{className:"language-Powershell"}),'($env:REACT_APP_NOT_SECRET_CODE = "abcdef") -and (npm start)\n')),Object(a.b)("h3",{id:"linux-macos-bash"},"Linux, macOS (Bash)"),Object(a.b)("pre",null,Object(a.b)("code",b({parentName:"pre"},{className:"language-sh"}),"REACT_APP_NOT_SECRET_CODE=abcdef npm start\n")),Object(a.b)("h2",{id:"\u5728-env-\u4e2d\u6dfb\u52a0\u5f00\u53d1\u73af\u5883\u53d8\u91cf"},"\u5728 ",Object(a.b)("inlineCode",{parentName:"h2"},".env")," \u4e2d\u6dfb\u52a0\u5f00\u53d1\u73af\u5883\u53d8\u91cf"),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a\u8be5\u529f\u80fd\u4ec5\u652f\u6301 ",Object(a.b)("inlineCode",{parentName:"p"},"react-scripts@0.5.0")," \u53ca\u4ee5\u4e0a\u7248\u672c\u3002")),Object(a.b)("p",null,"\u8981\u5b9a\u4e49\u6c38\u4e45\u6027\u73af\u5883\u53d8\u91cf\uff0c\u8bf7\u5728\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a ",Object(a.b)("inlineCode",{parentName:"p"},".env")," \u7684\u6587\u4ef6\uff1a"),Object(a.b)("pre",null,Object(a.b)("code",b({parentName:"pre"},{}),"REACT_APP_NOT_SECRET_CODE=abcdef\n")),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a\u4f60\u5fc5\u987b\u521b\u5efa\u4ee5 ",Object(a.b)("inlineCode",{parentName:"p"},"REACT_APP_")," \u5f00\u5934\u7684\u81ea\u5b9a\u4e49\u73af\u5883\u53d8\u91cf\uff0c\u9664 ",Object(a.b)("inlineCode",{parentName:"p"},"NODE_ENV")," \u5916\u7684\u4efb\u610f\u5176\u4ed6\u53d8\u91cf\u90fd\u5c06\u88ab\u5ffd\u7565\uff0c\u4ee5\u907f\u514d",Object(a.b)("a",b({parentName:"p"},{href:"https://github.com/facebook/create-react-app/issues/865#issuecomment-252199527"}),"\u5728\u673a\u5668\u4e0a\u66b4\u9732\u53ef\u80fd\u5177\u6709\u76f8\u540c\u540d\u79f0\u7684\u79c1\u94a5"),"\u3002\u66f4\u6539\u4efb\u4f55\u73af\u5883\u53d8\u91cf\u90fd\u9700\u8981\u4f60\u91cd\u65b0\u542f\u52a8\u5f00\u53d1\u670d\u52a1\u5668\uff08\u5982\u679c\u6b63\u5728\u8fd0\u884c\uff09\u3002")),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a\u4f60\u9700\u8981\u5728\u4fee\u6539 ",Object(a.b)("inlineCode",{parentName:"p"},".env")," \u6587\u4ef6\u540e\u91cd\u65b0\u542f\u52a8\u5f00\u53d1\u670d\u52a1\u5668\u3002")),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},".env")," \u6587\u4ef6",Object(a.b)("strong",{parentName:"p"},"\u5e94\u8be5"),"\u88ab\u7eb3\u5165\u6e90\u4ee3\u7801\u7ba1\u7406\u4e2d\uff08\u4e0d\u5305\u542b ",Object(a.b)("inlineCode",{parentName:"p"},".env*.local"),"\uff09\u3002"),Object(a.b)("h2",{id:"\u8fd8\u53ef\u4ee5\u4f7f\u7528\u54ea\u4e9b-env-\u6587\u4ef6\uff1f"},"\u8fd8\u53ef\u4ee5\u4f7f\u7528\u54ea\u4e9b ",Object(a.b)("inlineCode",{parentName:"h2"},".env")," \u6587\u4ef6\uff1f"),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a\u8be5\u529f\u80fd",Object(a.b)("strong",{parentName:"p"},"\u4ec5\u652f\u6301 ",Object(a.b)("inlineCode",{parentName:"strong"},"react-scripts@1.0.0")," \u53ca\u4ee5\u4e0a\u7248\u672c\u3002"))),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},".env"),"\uff1a\u9ed8\u8ba4\u3002"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},".env.local"),"\uff1a\u672c\u5730\u8986\u76d6\u3002",Object(a.b)("strong",{parentName:"li"},"\u6b64\u6587\u4ef6\u9002\u7528\u4e8e\u9664\u6d4b\u8bd5\u73af\u5883\u4ee5\u5916\u7684\u6240\u6709\u73af\u5883\u3002")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},".env.development"),"\u3001",Object(a.b)("inlineCode",{parentName:"li"},".env.test"),"\u3001",Object(a.b)("inlineCode",{parentName:"li"},".env.production"),"\uff1a\u9488\u5bf9\u7279\u5b9a\u73af\u5883\u7684\u8bbe\u7f6e\u3002"),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},".env.development.local"),"\u3001",Object(a.b)("inlineCode",{parentName:"li"},".env.test.local"),"\u3001",Object(a.b)("inlineCode",{parentName:"li"},".env.production.local"),"\uff1a\u9488\u5bf9\u7279\u5b9a\u73af\u5883\u7684\u672c\u5730\u8986\u76d6\u3002")),Object(a.b)("p",null,"\u5de6\u8fb9\u7684\u6587\u4ef6\u6bd4\u53f3\u8fb9\u7684\u6587\u4ef6\u4f18\u5148\u7ea7\u66f4\u9ad8\uff1a"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"npm start"),": ",Object(a.b)("inlineCode",{parentName:"li"},".env.development.local"),", ",Object(a.b)("inlineCode",{parentName:"li"},".env.development"),", ",Object(a.b)("inlineCode",{parentName:"li"},".env.local"),", ",Object(a.b)("inlineCode",{parentName:"li"},".env")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"npm run build"),": ",Object(a.b)("inlineCode",{parentName:"li"},".env.production.local"),", ",Object(a.b)("inlineCode",{parentName:"li"},".env.production"),", ",Object(a.b)("inlineCode",{parentName:"li"},".env.local"),", ",Object(a.b)("inlineCode",{parentName:"li"},".env")),Object(a.b)("li",{parentName:"ul"},Object(a.b)("inlineCode",{parentName:"li"},"npm test"),": ",Object(a.b)("inlineCode",{parentName:"li"},".env.test.local"),", ",Object(a.b)("inlineCode",{parentName:"li"},".env.test"),", ",Object(a.b)("inlineCode",{parentName:"li"},".env")," (note ",Object(a.b)("inlineCode",{parentName:"li"},".env.local")," is missing)")),Object(a.b)("p",null,"\u5982\u679c\u8ba1\u7b97\u673a\u672a\u660e\u786e\u5bf9\u5176\u8fdb\u884c\u8bbe\u5b9a\uff0c\u5b83\u4eec\u5c06\u4f1a\u88ab\u8bbe\u5b9a\u4e3a\u9ed8\u8ba4\u503c\u3002"),Object(a.b)("p",null,"\u8bf7\u53c2\u9605 ",Object(a.b)("a",b({parentName:"p"},{href:"https://github.com/motdotla/dotenv"}),"dotenv \u6587\u6863"),"\u4ee5\u4e86\u89e3\u66f4\u591a\u4fe1\u606f\u3002"),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a\u5982\u679c\u8981\u4e3a\u5f00\u53d1\u73af\u5883\u5b9a\u4e49\u73af\u5883\u53d8\u91cf\uff0c\u4f60\u5f88\u53ef\u80fd\u9700\u8981 CI \u548c/\u6216\u6258\u7ba1\u5e73\u53f0\u3002\n\u8fd9\u4e9b\u73af\u5883\u53d8\u91cf\u4e5f\u4f1a\u88ab\u5b9a\u4e49\u3002\u8bf7\u53c2\u9605\u4ed6\u4eec\u7684\u6587\u6863\u4e86\u89e3\u5982\u4f55\u6267\u884c\u6b64\u64cd\u4f5c\u3002\u4f8b\u5982 ",Object(a.b)("a",b({parentName:"p"},{href:"https://docs.travis-ci.com/user/environment-variables/"}),"Travis CI")," \u6216 ",Object(a.b)("a",b({parentName:"p"},{href:"https://devcenter.heroku.com/articles/config-vars"}),"Heroku")," \u7684\u6587\u6863\u3002")),Object(a.b)("h3",{id:"\u5728-env-\u4e2d\u6269\u5c55\u73af\u5883\u53d8\u91cf"},"\u5728 ",Object(a.b)("inlineCode",{parentName:"h3"},".env")," \u4e2d\u6269\u5c55\u73af\u5883\u53d8\u91cf"),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a\u8be5\u529f\u80fd",Object(a.b)("strong",{parentName:"p"},"\u4ec5\u652f\u6301 ",Object(a.b)("inlineCode",{parentName:"strong"},"react-scripts@1.1.0")," \u53ca\u4ee5\u4e0a\u7248\u672c\u3002"))),Object(a.b)("p",null,"\u6269\u5c55\u673a\u5668\u4e0a\u5df2\u5b58\u5728\u7684\u53d8\u91cf\uff0c\u4ee5\u4fbf\u5728\u4f60\u7684 ",Object(a.b)("inlineCode",{parentName:"p"},".env")," \u6587\u4ef6\u4e2d\u4f7f\u7528\uff08\u4f7f\u7528",Object(a.b)("a",b({parentName:"p"},{href:"https://github.com/motdotla/dotenv-expand"}),"dotenv-expand"),"\uff09\u3002"),Object(a.b)("p",null,"\u4f8b\u5982\uff0c\u8981\u83b7\u53d6\u73af\u5883\u53d8\u91cf ",Object(a.b)("inlineCode",{parentName:"p"},"npm_package_version"),"\uff1a"),Object(a.b)("pre",null,Object(a.b)("code",b({parentName:"pre"},{}),"REACT_APP_VERSION=$npm_package_version\n# also works:\n# REACT_APP_VERSION=${npm_package_version}\n")),Object(a.b)("p",null,"\u6216\u5728\u672c\u5730\u6269\u5c55\u5f53\u524d ",Object(a.b)("inlineCode",{parentName:"p"},".env")," \u6587\u4ef6\u4e2d\u7684\u53d8\u91cf\uff1a"),Object(a.b)("pre",null,Object(a.b)("code",b({parentName:"pre"},{}),"DOMAIN=www.example.com\nREACT_APP_FOO=$DOMAIN/foo\nREACT_APP_BAR=$DOMAIN/bar\n")))}p.isMDXComponent=!0},228:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return O}));var a=t(0),b=t.n(a),l=b.a.createContext({}),c=function(e){var n=b.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):Object.assign({},n,e)),t},r=function(e){var n=c(e.components);return b.a.createElement(l.Provider,{value:n},e.children)};var i="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return b.a.createElement(b.a.Fragment,{},n)}},o=Object(a.forwardRef)((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,r=e.parentName,i=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===n.indexOf(a)&&(t[a]=e[a]);return t}(e,["components","mdxType","originalType","parentName"]),o=c(t),O=a,m=o[r+"."+O]||o[O]||p[O]||l;return t?b.a.createElement(m,Object.assign({},{ref:n},i,{components:t})):b.a.createElement(m,Object.assign({},{ref:n},i))}));function O(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,c=new Array(l);c[0]=o;var r={};for(var p in n)hasOwnProperty.call(n,p)&&(r[p]=n[p]);r.originalType=e,r[i]="string"==typeof e?e:a,c[1]=r;for(var O=2;O<l;O++)c[O]=t[O];return b.a.createElement.apply(null,c)}return b.a.createElement.apply(null,t)}o.displayName="MDXCreateElement"}}]);