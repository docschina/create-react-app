<!DOCTYPE html>
<html lang="en" data-theme="">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<script type="text/javascript">/*<![CDATA[*/window.__chunkMapping={"main":["/main.c96838aeda9906bbe2c3.css","/main.bf24e1a13e43805416f8.js"],"component---site-src-pages-index-jsc-4-f-f99":["/component---site-src-pages-index-jsc-4-f-f99.eefa51f400e5c0b5a52f.css","/component---site-src-pages-index-jsc-4-f-f99.74b344457baee5aed19b.js"],"component---theme-doc-page-1-be-9be":["/component---theme-doc-page-1-be-9be.ac9351e3fa30b156a630.css","/component---theme-doc-page-1-be-9be.ff51142faa7213238523.js"],"docsMetadata---docs-1-da-721":["/docsMetadata---docs-1-da-721.879d3171929c66791ea4.js"],"component---theme-doc-item-178-a40":["/component---theme-doc-item-178-a40.de2648345892298aff25.css","/component---theme-doc-item-178-a40.39ecd5d8386c94a502af.js"],"content---docs-adding-a-css-modules-stylesheet-692-c8f":["/content---docs-adding-a-css-modules-stylesheet-692-c8f.e417fd6aa1d643be53d6.js"],"metadata---docs-adding-a-css-modules-stylesheet-634-576":["/metadata---docs-adding-a-css-modules-stylesheet-634-576.73cbdaa3046740664740.js"],"content---docs-adding-a-router-34-e-607":["/content---docs-adding-a-router-34-e-607.8ac0ede06f4412d8b37e.js"],"metadata---docs-adding-a-router-73-d-177":["/metadata---docs-adding-a-router-73-d-177.dac59da13bbac8444a05.js"],"content---docs-adding-a-sass-stylesheet-993-977":["/content---docs-adding-a-sass-stylesheet-993-977.c792a78c8747521e6515.js"],"metadata---docs-adding-a-sass-stylesheetbee-f78":["/metadata---docs-adding-a-sass-stylesheetbee-f78.a482206c8c3edb8ced61.js"],"content---docs-adding-a-stylesheetf-87-dcf":["/content---docs-adding-a-stylesheetf-87-dcf.1ba7b16d1b75c39ac410.js"],"metadata---docs-adding-a-stylesheet-86-a-a0e":["/metadata---docs-adding-a-stylesheet-86-a-a0e.4114fc5933ba28f3de07.js"],"content---docs-adding-bootstrap-903-029":["/content---docs-adding-bootstrap-903-029.ebbe9139dacfd9a1b27f.js"],"metadata---docs-adding-bootstrapc-3-e-5cc":["/metadata---docs-adding-bootstrapc-3-e-5cc.f2ab53edfebacb524e8a.js"],"content---docs-adding-custom-environment-variables-2-cc-a37":["/content---docs-adding-custom-environment-variables-2-cc-a37.fa16648bb1ea6cfb389d.js"],"metadata---docs-adding-custom-environment-variablesd-4-a-ad5":["/metadata---docs-adding-custom-environment-variablesd-4-a-ad5.c6ca426a5bc5c84a4f44.js"],"content---docs-adding-flowd-5-c-bec":["/content---docs-adding-flowd-5-c-bec.6f4b316f7c7c9406b391.js"],"metadata---docs-adding-flowd-11-a30":["/metadata---docs-adding-flowd-11-a30.1129ce65f64216a030bb.js"],"content---docs-adding-css-resetb-9-a-f67":["/content---docs-adding-css-resetb-9-a-f67.b585ecadacb789d5870b.js"],"metadata---docs-adding-css-reset-48-e-68b":["/metadata---docs-adding-css-reset-48-e-68b.e350a6c5bcfaa3916324.js"],"content---docs-adding-images-fonts-and-fileseb-0-ffd":["/content---docs-adding-images-fonts-and-fileseb-0-ffd.0763fcd5950faac6d951.js"],"metadata---docs-adding-images-fonts-and-files-16-e-f47":["/metadata---docs-adding-images-fonts-and-files-16-e-f47.22054bdd0da2cb55cb88.js"],"content---docs-adding-relaye-8-b-a72":["/content---docs-adding-relaye-8-b-a72.2d4c15e3301047f68174.js"],"metadata---docs-adding-relaya-55-41b":["/metadata---docs-adding-relaya-55-41b.2394dccd1a7a31e47d77.js"],"content---docs-adding-typescript-761-14a":["/content---docs-adding-typescript-761-14a.1c83d8317dce3c9315bb.js"],"metadata---docs-adding-typescript-414-964":["/metadata---docs-adding-typescript-414-964.3430f64a0353c01b596a.js"],"content---docs-advanced-configuration-0-a-8-6b9":["/content---docs-advanced-configuration-0-a-8-6b9.fe1745cadaefce172b4a.js"],"metadata---docs-advanced-configurationdbb-607":["/metadata---docs-advanced-configurationdbb-607.46d83ed0d4f8e71331cb.js"],"content---docs-alternatives-to-ejectingfe-6-478":["/content---docs-alternatives-to-ejectingfe-6-478.9ef09dc3ac484c29ae71.js"],"metadata---docs-alternatives-to-ejectingdd-0-051":["/metadata---docs-alternatives-to-ejectingdd-0-051.215a13c9939af20a1a2f.js"],"content---docs-analyzing-the-bundle-sizeb-33-843":["/content---docs-analyzing-the-bundle-sizeb-33-843.0875e424ee1628934fab.js"],"metadata---docs-analyzing-the-bundle-sizeacc-347":["/metadata---docs-analyzing-the-bundle-sizeacc-347.aff218fdfcfb6fca628d.js"],"content---docs-available-scripts-652-9b8":["/content---docs-available-scripts-652-9b8.7c30a718254104813d6b.js"],"metadata---docs-available-scriptsc-17-7e7":["/metadata---docs-available-scriptsc-17-7e7.b6883eb063cc4cee342a.js"],"content---docs-can-i-use-decoratorse-54-cef":["/content---docs-can-i-use-decoratorse-54-cef.e8677ba02018b9c0a3e8.js"],"metadata---docs-can-i-use-decorators-0-fa-fc5":["/metadata---docs-can-i-use-decorators-0-fa-fc5.0f864ecde30f9b403e5e.js"],"content---docs-code-splittingeae-502":["/content---docs-code-splittingeae-502.dd72ca246220107301b6.js"],"metadata---docs-code-splitting-029-270":["/metadata---docs-code-splitting-029-270.2b13e6d1c2a376c0bd28.js"],"content---docs-developing-components-in-isolationd-43-423":["/content---docs-developing-components-in-isolationd-43-423.436683053c926f4be0a9.js"],"metadata---docs-developing-components-in-isolationbdd-26e":["/metadata---docs-developing-components-in-isolationbdd-26e.2760672704fca322f980.js"],"content---docs-deploymente-33-fd8":["/content---docs-deploymente-33-fd8.635abf849422efcc0036.js"],"metadata---docs-deploymentfe-3-d7f":["/metadata---docs-deploymentfe-3-d7f.08c84fe44660ffc82e9b.js"],"content---docs-documentation-intro-8-f-1-b0b":["/content---docs-documentation-intro-8-f-1-b0b.30956d43405bf52e0530.js"],"metadata---docs-documentation-introf-00-92f":["/metadata---docs-documentation-introf-00-92f.04014340b78c4ea08031.js"],"content---docs-fetching-data-with-ajax-requests-14-d-242":["/content---docs-fetching-data-with-ajax-requests-14-d-242.141dd787e5da7628bae8.js"],"metadata---docs-fetching-data-with-ajax-requestse-91-a04":["/metadata---docs-fetching-data-with-ajax-requestse-91-a04.8db048776b9dd1c8c7c3.js"],"content---docs-debugging-tests-530-53a":["/content---docs-debugging-tests-530-53a.01863bed7282b63f026f.js"],"metadata---docs-debugging-tests-064-ee5":["/metadata---docs-debugging-tests-064-ee5.a773a34489af638a2d10.js"],"content---docs-folder-structuree-9-c-afa":["/content---docs-folder-structuree-9-c-afa.0e6472f92698c5362895.js"],"metadata---docs-folder-structure-92-f-29d":["/metadata---docs-folder-structure-92-f-29d.5416f78b8eac3c3f9501.js"],"content---docs-getting-started-8-d-0-4ab":["/content---docs-getting-started-8-d-0-4ab.12ce8d82289cb4200821.js"],"metadata---docs-getting-started-57-d-ca5":["/metadata---docs-getting-started-57-d-ca5.723ea93eb542cd3bedb4.js"],"content---docs-importing-a-componentea-3-096":["/content---docs-importing-a-componentea-3-096.94442ae99807b5f22b70.js"],"metadata---docs-importing-a-componente-80-708":["/metadata---docs-importing-a-componente-80-708.cfd7b79db25298f47ee7.js"],"content---docs-installing-a-dependency-235-a29":["/content---docs-installing-a-dependency-235-a29.20c71f2241c5b8fb901b.js"],"metadata---docs-installing-a-dependencyf-94-06a":["/metadata---docs-installing-a-dependencyf-94-06a.1b5a42d43a76eef88ca1.js"],"content---docs-loading-graphql-filesaa-9-117":["/content---docs-loading-graphql-filesaa-9-117.2778d641b7b72280cf6c.js"],"metadata---docs-loading-graphql-filesd-85-24d":["/metadata---docs-loading-graphql-filesd-85-24d.9d7b0d4514c13ecad518.js"],"content---docs-making-a-progressive-web-appb-0-e-aca":["/content---docs-making-a-progressive-web-appb-0-e-aca.93631d177993b46c5b82.js"],"metadata---docs-making-a-progressive-web-app-26-b-766":["/metadata---docs-making-a-progressive-web-app-26-b-766.72fdb7ac5168011906d2.js"],"content---docs-integrating-with-an-api-backendbd-4-3c4":["/content---docs-integrating-with-an-api-backendbd-4-3c4.59618335022c87974acc.js"],"metadata---docs-integrating-with-an-api-backend-0-b-7-74e":["/metadata---docs-integrating-with-an-api-backend-0-b-7-74e.9107661a64164fd63cde.js"],"content---docs-post-processing-csscdf-a22":["/content---docs-post-processing-csscdf-a22.f4fb2e15a5ef18832678.js"],"metadata---docs-post-processing-css-5-e-9-417":["/metadata---docs-post-processing-css-5-e-9-417.fbf5ac1402e878b4e057.js"],"content---docs-pre-rendering-into-static-html-files-283-4ad":["/content---docs-pre-rendering-into-static-html-files-283-4ad.147e037d889c56ad477a.js"],"metadata---docs-pre-rendering-into-static-html-filese-87-3cb":["/metadata---docs-pre-rendering-into-static-html-filese-87-3cb.c3025b3ffca762fbf617.js"],"content---docs-production-build-7-b-4-5c2":["/content---docs-production-build-7-b-4-5c2.f3634be415265b6e9ece.js"],"metadata---docs-production-buildbd-5-1df":["/metadata---docs-production-buildbd-5-1df.4658e0b25e6eeb0be29f.js"],"content---docs-proxying-api-requests-in-development-5-f-5-67c":["/content---docs-proxying-api-requests-in-development-5-f-5-67c.6c8a86e69ecd75b8d513.js"],"metadata---docs-proxying-api-requests-in-developmentbe-0-b24":["/metadata---docs-proxying-api-requests-in-developmentbe-0-b24.1579483d2ad9038401e0.js"],"content---docs-setting-up-your-editor-81-e-516":["/content---docs-setting-up-your-editor-81-e-516.07b952d09b4c671a4523.js"],"metadata---docs-setting-up-your-editorbd-0-159":["/metadata---docs-setting-up-your-editorbd-0-159.f3bb318f2be6362b6457.js"],"content---docs-running-tests-0-d-4-18f":["/content---docs-running-tests-0-d-4-18f.12c4668a8cbf0aaa237f.js"],"metadata---docs-running-testsa-6-a-ff8":["/metadata---docs-running-testsa-6-a-ff8.7fdbe01b5e737ea1452a.js"],"content---docs-supported-browsers-features-7-fc-c56":["/content---docs-supported-browsers-features-7-fc-c56.de70b82f207d4c500626.js"],"metadata---docs-supported-browsers-features-23-d-801":["/metadata---docs-supported-browsers-features-23-d-801.1e44e3eea5b984efb9a8.js"],"content---docs-troubleshooting-992-211":["/content---docs-troubleshooting-992-211.38c839bc08f32bb8e4a0.js"],"metadata---docs-troubleshootingac-9-9ea":["/metadata---docs-troubleshootingac-9-9ea.340c4859bbc8da9495e2.js"],"content---docs-title-and-meta-tags-579-6f8":["/content---docs-title-and-meta-tags-579-6f8.d92be6fd244bf4629c28.js"],"metadata---docs-title-and-meta-tags-7-ef-241":["/metadata---docs-title-and-meta-tags-7-ef-241.d3727247a98995239bd9.js"],"content---docs-updating-to-new-releases-65-e-670":["/content---docs-updating-to-new-releases-65-e-670.6962384511c80be51bb4.js"],"metadata---docs-updating-to-new-releases-6-b-3-070":["/metadata---docs-updating-to-new-releases-6-b-3-070.b8bb2c3be917ccac7ce0.js"],"content---docs-using-global-variables-469-9fd":["/content---docs-using-global-variables-469-9fd.28b6f29efa1ed445317f.js"],"metadata---docs-using-global-variables-553-bbb":["/metadata---docs-using-global-variables-553-bbb.b86ebde2ffbd3dad3e1b.js"],"content---docs-using-the-public-folderd-01-1ab":["/content---docs-using-the-public-folderd-01-1ab.33b5c08f178b68288fbc.js"],"metadata---docs-using-the-public-folder-04-a-87b":["/metadata---docs-using-the-public-folder-04-a-87b.074745472c8ebffeaad7.js"],"content---docs-using-https-in-developmenta-9-c-f34":["/content---docs-using-https-in-developmenta-9-c-f34.82788308736344e1c660.js"],"metadata---docs-using-https-in-developmenta-1-a-afd":["/metadata---docs-using-https-in-developmenta-1-a-afd.c099efb98c3554acfed3.js"]};/*]]>*/</script>

<title data-react-helmet="true">Deployment</title>

<meta data-react-helmet="true" charset="utf-8"/><meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"/><meta data-react-helmet="true" name="viewport" content="width=device-width"/><meta data-react-helmet="true" property="og:title" content="Create React App · 通过一行命令，构建现代 Web 应用。"/><meta data-react-helmet="true" property="og:image" content="https://create-react-app.dev/img/logo-og.png"/><meta data-react-helmet="true" property="twitter:image" content="https://create-react-app.dev/img/logo-og.png"/><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Create React App · 通过一行命令，构建现代 Web 应用。"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="description" content="`npm run build` creates a `build` directory with a production build of your app. Set up your favorite HTTP server so that a visitor to your site is served `index.html`, and requests to static paths like `/static/js/main.&lt;hash&gt;.js` are served with the contents of the `/static/js/main.&lt;hash&gt;.js` file. For more information see the [production build](production-build.md) section."/><meta data-react-helmet="true" property="og:description" content="`npm run build` creates a `build` directory with a production build of your app. Set up your favorite HTTP server so that a visitor to your site is served `index.html`, and requests to static paths like `/static/js/main.&lt;hash&gt;.js` are served with the contents of the `/static/js/main.&lt;hash&gt;.js` file. For more information see the [production build](production-build.md) section."/><meta data-react-helmet="true" property="og:url" content="https://create-react-app.dev/docs/deployment"/>

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon/favicon.ico"/>


<link rel="stylesheet" type="text/css" href="/main.c96838aeda9906bbe2c3.css" />

<link rel="stylesheet" type="text/css" href="/0.70dd370b15fde7e2ec84.css" />

<link rel="stylesheet" type="text/css" href="/1.2c9c4d4553a0d4cb7160.css" />

<link rel="stylesheet" type="text/css" href="/component---theme-doc-page-1-be-9be.ac9351e3fa30b156a630.css" />

<link rel="stylesheet" type="text/css" href="/component---theme-doc-item-178-a40.de2648345892298aff25.css" />

</head>
<body >
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Create React App Logo"/><strong class="">Create React App</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" label="文档" position="right" href="/docs/getting-started">文档</a><a class="navbar__item navbar__link" href="https://reactjs.org/community/support.html" label="帮助" position="right" target="_blank" rel="noopener noreferrer">帮助</a><a class="navbar__item navbar__link" href="https://www.github.com/facebook/create-react-app" label="GitHub" position="right" target="_blank" rel="noopener noreferrer">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_16vC moon_1N64"></span></div><div class="react-toggle-track-x"><span class="toggle_16vC sun_3CZP"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"/></div><div class="navbar__search"><span role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="search-bar"/></div></div></div><div role="presentation" class="navbar__sidebar__backdrop"></div><div class="navbar__sidebar"><div class="navbar__sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Create React App Logo"/><strong>Create React App</strong></a></div><div class="navbar__sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" label="文档" position="right" href="/docs/getting-started">文档</a></li><li class="menu__list-item"><a class="menu__link" href="https://reactjs.org/community/support.html" label="帮助" position="right" target="_blank" rel="noopener noreferrer">帮助</a></li><li class="menu__list-item"><a class="menu__link" href="https://www.github.com/facebook/create-react-app" label="GitHub" position="right" target="_blank" rel="noopener noreferrer">GitHub</a></li></ul></div></div></div></nav><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">欢迎使用</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/documentation-intro">About Docs</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">快速上手</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">开始</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/folder-structure">文件夹结构</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/available-scripts">可执行脚本</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/supported-browsers-features">浏览器及特性适配</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/updating-to-new-releases">更新至最新版本</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">开发</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/setting-up-your-editor">编辑器初始化</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/developing-components-in-isolation">独立开发组件</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/analyzing-the-bundle-size">分析 bundle 大小</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-https-in-development">在开发环境使用 HTTPS</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">样式及资源文件</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/adding-a-stylesheet">添加样式表</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/adding-a-css-modules-stylesheet">Adding CSS Modules</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/adding-a-sass-stylesheet">添加 Sass 样式支持</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/adding-css-reset">添加 CSS Reset 支持</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/post-processing-css">CSS 后处理</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/adding-images-fonts-and-files">添加图片、字体及文件支持</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/loading-graphql-files">加载 .graphql 文件</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-the-public-folder">使用 Public 文件夹</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/code-splitting">代码分割</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">构建</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/installing-a-dependency">Installing a Dependency</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/importing-a-component">导入组件</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/using-global-variables">Using Global Variables</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/adding-bootstrap">Adding Bootstrap</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/adding-flow">Adding Flow</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/adding-typescript">Adding TypeScript</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/adding-relay">Adding Relay</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/adding-a-router">添加路由</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/adding-custom-environment-variables">Environment Variables</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/making-a-progressive-web-app">Making a Progressive Web App</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/production-build">Creating a Production Build</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">测试</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/running-tests">Running Tests</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/debugging-tests">Debugging Tests</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">后端整合</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/proxying-api-requests-in-development">Proxying in Development</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/fetching-data-with-ajax-requests">Fetching Data</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/integrating-with-an-api-backend">Integrating with an API</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/title-and-meta-tags">Title &amp; Meta Tags</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">部署</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/deployment">Deployment</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">高级用法</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/can-i-use-decorators">Can I Use Decorators?</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/pre-rendering-into-static-html-files">Pre-Rendering Static HTML</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/advanced-configuration">Advanced Configuration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/alternatives-to-ejecting">Alternatives to Ejecting</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">支持</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/troubleshooting">Troubleshooting</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><header><h1 class="docTitle_1vWb">Deployment</h1></header><article><div class="markdown"><p><code>npm run build</code> creates a <code>build</code> directory with a production build of your app. Set up your favorite HTTP server so that a visitor to your site is served <code>index.html</code>, and requests to static paths like <code>/static/js/main.&lt;hash&gt;.js</code> are served with the contents of the <code>/static/js/main.&lt;hash&gt;.js</code> file. For more information see the <a href="/docs/production-build">production build</a> section.</p><h2><a aria-hidden="true" class="anchor" id="static-server"></a><a aria-hidden="true" class="hash-link" href="#static-server">#</a>Static Server</h2><p>For environments using <a href="https://nodejs.org/">Node</a>, the easiest way to handle this would be to install <a href="https://github.com/zeit/serve">serve</a> and let it handle the rest:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-sh codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">npm install -g serve</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">serve -s build</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>The last command shown above will serve your static site on the port <strong>5000</strong>. Like many of <a href="https://github.com/zeit/serve">serve</a>’s internal settings, the port can be adjusted using the <code>-l</code> or <code>--listen</code> flags:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-sh codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">serve -s build -l 4000</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>Run this command to get a full list of the options available:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-sh codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">serve -h</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h2><a aria-hidden="true" class="anchor" id="other-solutions"></a><a aria-hidden="true" class="hash-link" href="#other-solutions">#</a>Other Solutions</h2><p>You don’t necessarily need a static server in order to run a Create React App project in production. It also works well when integrated into an existing server side app.</p><p>Here’s a programmatic example using <a href="https://nodejs.org/">Node</a> and <a href="https://expressjs.com/">Express</a>:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-javascript codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> express </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;express&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> path </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;path&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> app </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">express</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">use</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">express</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">static</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;build&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">req</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">sendFile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;build&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;index.html&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">listen</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">9000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>The choice of your server software isn’t important either. Since Create React App is completely platform-agnostic, there’s no need to explicitly use Node.</p><p>The <code>build</code> folder with static assets is the only output produced by Create React App.</p><p>However this is not quite enough if you use client-side routing. Read the next section if you want to support URLs like <code>/todos/42</code> in your single-page app.</p><h2><a aria-hidden="true" class="anchor" id="serving-apps-with-client-side-routing"></a><a aria-hidden="true" class="hash-link" href="#serving-apps-with-client-side-routing">#</a>Serving Apps with Client-Side Routing</h2><p>If you use routers that use the HTML5 <a href="https://developer.mozilla.org/en-US/docs/Web/API/History_API#Adding_and_modifying_history_entries"><code>pushState</code> history API</a> under the hood (for example, <a href="https://github.com/ReactTraining/react-router">React Router</a> with <code>browserHistory</code>), many static file servers will fail. For example, if you used React Router with a route for <code>/todos/42</code>, the development server will respond to <code>localhost:3000/todos/42</code> properly, but an Express serving a production build as above will not.</p><p>This is because when there is a fresh page load for a <code>/todos/42</code>, the server looks for the file <code>build/todos/42</code> and does not find it. The server needs to be configured to respond to a request to <code>/todos/42</code> by serving <code>index.html</code>. For example, we can amend our Express example above to serve <code>index.html</code> for any unknown paths:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-diff codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">app.use(express.static(path.join(__dirname, &#x27;build&#x27;)));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token deleted-sign deleted">-app.get(&#x27;/&#x27;, function (req, res) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted"></span><span class="token inserted-sign inserted">+app.get(&#x27;/*&#x27;, function (req, res) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted"></span><span class="token unchanged">   res.sendFile(path.join(__dirname, &#x27;build&#x27;, &#x27;index.html&#x27;));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged"> });</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>If you’re using <a href="https://httpd.apache.org/">Apache HTTP Server</a>, you need to create a <code>.htaccess</code> file in the <code>public</code> folder that looks like this:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Options -MultiViews</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    RewriteEngine On</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    RewriteCond %{REQUEST_FILENAME} !-f</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    RewriteRule ^ index.html [QSA,L]</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>It will get copied to the <code>build</code> folder when you run <code>npm run build</code>.</p><p>If you’re using <a href="https://tomcat.apache.org/">Apache Tomcat</a>, you need to follow <a href="https://stackoverflow.com/a/41249464/4878474">this Stack Overflow answer</a>.</p><p>Now requests to <code>/todos/42</code> will be handled correctly both in development and in production.</p><p>On a production build, and when you&#x27;ve <a href="/docs/making-a-progressive-web-app#why-opt-in">opted-in</a>,
a <a href="https://developers.google.com/web/fundamentals/primers/service-workers/">service worker</a> will automatically handle all navigation requests, like for
<code>/todos/42</code>, by serving the cached copy of your <code>index.html</code>. This
service worker navigation routing can be configured or disabled by
<a href="/docs/available-scripts#npm-run-eject"><code>eject</code>ing</a> and then modifying the
<a href="https://github.com/GoogleChrome/sw-precache#navigatefallback-string"><code>navigateFallback</code></a>
and <a href="https://github.com/GoogleChrome/sw-precache#navigatefallbackwhitelist-arrayregexp"><code>navigateFallbackWhitelist</code></a>
options of the <code>SWPrecachePlugin</code> <a href="../config/webpack.config.prod.js">configuration</a>.</p><p>When users install your app to the homescreen of their device the default configuration will make a shortcut to <code>/index.html</code>. This may not work for client-side routers which expect the app to be served from <code>/</code>. Edit the web app manifest at <a href="public/manifest.json"><code>public/manifest.json</code></a> and change <code>start_url</code> to match the required URL scheme, for example:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">&quot;start_url&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;.&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h2><a aria-hidden="true" class="anchor" id="building-for-relative-paths"></a><a aria-hidden="true" class="hash-link" href="#building-for-relative-paths">#</a>Building for Relative Paths</h2><p>By default, Create React App produces a build assuming your app is hosted at the server root.</p><p>To override this, specify the <code>homepage</code> in your <code>package.json</code>, for example:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">&quot;homepage&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://mywebsite.com/relativepath&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>This will let Create React App correctly infer the root path to use in the generated HTML file.</p><p><strong>Note</strong>: If you are using <code>react-router@^4</code>, you can root <code>&lt;Link&gt;</code>s using the <code>basename</code> prop on any <code>&lt;Router&gt;</code>.</p><p>More information <a href="https://reacttraining.com/react-router/web/api/BrowserRouter/basename-string">here</a>.</p><p>For example:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">BrowserRouter</span><span class="token plain"> basename</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/calendar&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name">Link</span><span class="token plain"> to</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/today&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// renders &lt;a href=&quot;/calendar/today&quot;&gt;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" class="anchor" id="serving-the-same-build-from-different-paths"></a><a aria-hidden="true" class="hash-link" href="#serving-the-same-build-from-different-paths">#</a>Serving the Same Build from Different Paths</h3><blockquote><p>Note: this feature is available with <code>react-scripts@0.9.0</code> and higher.</p></blockquote><p>If you are not using the HTML5 <code>pushState</code> history API or not using client-side routing at all, it is unnecessary to specify the URL from which your app will be served. Instead, you can put this in your <code>package.json</code>:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-js codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">&quot;homepage&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;.&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>This will make sure that all the asset paths are relative to <code>index.html</code>. You will then be able to move your app from <code>http://mywebsite.com</code> to <code>http://mywebsite.com/relativepath</code> or even <code>http://mywebsite.com/relative/path</code> without having to rebuild it.</p><h2><a aria-hidden="true" class="anchor" id="customizing-environment-variables-for-arbitrary-build-environments"></a><a aria-hidden="true" class="hash-link" href="#customizing-environment-variables-for-arbitrary-build-environments">#</a>Customizing Environment Variables for Arbitrary Build Environments</h2><p>You can create an arbitrary build environment by creating a custom <code>.env</code> file and loading it using <a href="https://www.npmjs.com/package/env-cmd">env-cmd</a>.</p><p>For example, to create a build environment for a staging environment:</p><ol><li>Create a file called <code>.env.staging</code></li><li>Set environment variables as you would any other <code>.env</code> file (e.g. <code>REACT_APP_API_URL=http://api-staging.example.com</code>)</li><li>Install <a href="https://www.npmjs.com/package/env-cmd">env-cmd</a><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-sh codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ npm install env-cmd --save</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ # or</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ yarn add env-cmd</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre></li><li>Add a new script to your <code>package.json</code>, building with your new environment:<pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-json codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;scripts&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;build:staging&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;env-cmd -f .env.staging npm run build&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre></li></ol><p>Now you can run <code>npm run build:staging</code> to build with the staging environment config.
You can specify other environments in the same way.</p><p>Variables in <code>.env.production</code> will be used as fallback because <code>NODE_ENV</code> will always be set to <code>production</code> for a build.</p><h2><a aria-hidden="true" class="anchor" id="aws-amplify"></a><a aria-hidden="true" class="hash-link" href="#aws-amplify">#</a><a href="http://console.amplify.aws">AWS Amplify</a></h2><p>The AWS Amplify Console provides continuous deployment and hosting for modern web apps (single page apps and static site generators) with serverless backends. The Amplify Console offers globally available CDNs, custom domain setup, feature branch deployments, and password protection.</p><ol><li>Login to the Amplify Console <a href="https://console.aws.amazon.com/amplify/home">here</a>.</li><li>Connect your Create React App repo and pick a branch. If you&#x27;re looking for a Create React App+Amplify starter, try the <a href="https://github.com/swaminator/create-react-app-auth-amplify">create-react-app-auth-amplify starter</a> that demonstrates setting up auth in 10 minutes with Create React App.</li><li>The Amplify Console automatically detects the build settings. Choose Next.</li><li>Choose <em>Save and deploy</em>.</li></ol><p>If the build succeeds, the app is deployed and hosted on a global CDN with an amplifyapp.com domain. You can now continuously deploy changes to your frontend or backend. Continuous deployment allows developers to deploy updates to their frontend and backend on every code commit to their Git repository.</p><h2><a aria-hidden="true" class="anchor" id="azure"></a><a aria-hidden="true" class="hash-link" href="#azure">#</a><a href="https://azure.microsoft.com/">Azure</a></h2><p>See <a href="https://medium.com/@to_pe/deploying-create-react-app-on-microsoft-azure-c0f6686a4321">this</a> blog post on how to deploy your React app to Microsoft Azure.</p><p>See <a href="https://medium.com/@strid/host-create-react-app-on-azure-986bc40d5bf2#.pycfnafbg">this</a> blog post or <a href="https://github.com/ulrikaugustsson/azure-appservice-static">this</a> repo for a way to use automatic deployment to Azure App Service.</p><h2><a aria-hidden="true" class="anchor" id="firebase"></a><a aria-hidden="true" class="hash-link" href="#firebase">#</a><a href="https://firebase.google.com/">Firebase</a></h2><p>Install the Firebase CLI if you haven’t already by running <code>npm install -g firebase-tools</code>. Sign up for a <a href="https://console.firebase.google.com/">Firebase account</a> and create a new project. Run <code>firebase login</code> and login with your previous created Firebase account.</p><p>Then run the <code>firebase init</code> command from your project’s root. You need to choose the <strong>Hosting: Configure and deploy Firebase Hosting sites</strong> and choose the Firebase project you created in the previous step. You will need to agree with <code>database.rules.json</code> being created, choose <code>build</code> as the public directory, and also agree to <strong>Configure as a single-page app</strong> by replying with <code>y</code>.</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-sh codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">=== Project Setup</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    First, let&#x27;s associate this project directory with a Firebase project.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    You can create multiple project aliases by running firebase use --add,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    but for now we&#x27;ll set up a default project.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ? What Firebase project do you want to associate as default? Example app (example-app-fd690)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    === Database Setup</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Firebase Realtime Database Rules allow you to define how your data should be</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    structured and when your data can be read from and written to.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ? What file should be used for Database Rules? database.rules.json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ✔  Database Rules for example-app-fd690 have been downloaded to database.rules.json.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Future modifications to database.rules.json will update Database Rules when you run</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    firebase deploy.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    === Hosting Setup</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Your public directory is the folder (relative to your project directory) that</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    will contain Hosting assets to uploaded with firebase deploy. If you</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    have a build process for your assets, use your build&#x27;s output directory.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ? What do you want to use as your public directory? build</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ? Configure as a single-page app (rewrite all urls to /index.html)? Yes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ✔  Wrote build/index.html</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    i  Writing configuration info to firebase.json...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    i  Writing project information to .firebaserc...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ✔  Firebase initialization complete!</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>IMPORTANT: you need to set proper HTTP caching headers for <code>service-worker.js</code> file in <code>firebase.json</code> file or you will not be able to see changes after first deployment (<a href="https://github.com/facebook/create-react-app/issues/2440">issue #2440</a>). It should be added inside <code>&quot;hosting&quot;</code> key like next:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-json codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;hosting&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;headers&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token property">&quot;source&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/service-worker.js&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token property">&quot;headers&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token property">&quot;key&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Cache-Control&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token property">&quot;value&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;no-cache&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>Now, after you create a production build with <code>npm run build</code>, you can deploy it by running <code>firebase deploy</code>.</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-sh codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">=== Deploying to &#x27;example-app-fd690&#x27;...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    i  deploying database, hosting</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ✔  database: rules ready to deploy.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    i  hosting: preparing build directory for upload...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Uploading: [==============================          ] 75%✔  hosting: build folder uploaded successfully</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ✔  hosting: 8 files uploaded successfully</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    i  starting release process (may take several minutes)...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ✔  Deploy complete!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Project Console: https://console.firebase.google.com/project/example-app-fd690/overview</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Hosting URL: https://example-app-fd690.firebaseapp.com</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>For more information see <a href="https://firebase.google.com/docs/hosting">Firebase Hosting</a>.</p><h2><a aria-hidden="true" class="anchor" id="github-pages"></a><a aria-hidden="true" class="hash-link" href="#github-pages">#</a><a href="https://pages.github.com/">GitHub Pages</a></h2><blockquote><p>Note: this feature is available with <code>react-scripts@0.2.0</code> and higher.</p></blockquote><h3><a aria-hidden="true" class="anchor" id="step-1-add-homepage-to-packagejson"></a><a aria-hidden="true" class="hash-link" href="#step-1-add-homepage-to-packagejson">#</a>Step 1: Add <code>homepage</code> to <code>package.json</code></h3><p><strong>The step below is important!</strong><br/></p><p><strong>If you skip it, your app will not deploy correctly.</strong></p><p>Open your <code>package.json</code> and add a <code>homepage</code> field for your project:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-json codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token property">&quot;homepage&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://myusername.github.io/my-app&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>or for a GitHub user page:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-json codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token property">&quot;homepage&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://myusername.github.io&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>or for a custom domain page:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-json codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token property">&quot;homepage&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://mywebsite.com&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>Create React App uses the <code>homepage</code> field to determine the root URL in the built HTML file.</p><h3><a aria-hidden="true" class="anchor" id="step-2-install-gh-pages-and-add-deploy-to-scripts-in-packagejson"></a><a aria-hidden="true" class="hash-link" href="#step-2-install-gh-pages-and-add-deploy-to-scripts-in-packagejson">#</a>Step 2: Install <code>gh-pages</code> and add <code>deploy</code> to <code>scripts</code> in <code>package.json</code></h3><p>Now, whenever you run <code>npm run build</code>, you will see a cheat sheet with instructions on how to deploy to GitHub Pages.</p><p>To publish it at <a href="https://myusername.github.io/my-app">https://myusername.github.io/my-app</a>, run:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-sh codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">npm install --save gh-pages</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>Alternatively you may use <code>yarn</code>:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-sh codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">yarn add gh-pages</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>Add the following scripts in your <code>package.json</code>:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-diff codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;scripts&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token inserted-sign inserted">+   &quot;predeploy&quot;: &quot;npm run build&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted">+   &quot;deploy&quot;: &quot;gh-pages -d build&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted"></span><span class="token unchanged">    &quot;start&quot;: &quot;react-scripts start&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged">    &quot;build&quot;: &quot;react-scripts build&quot;,</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>The <code>predeploy</code> script will run automatically before <code>deploy</code> is run.</p><p>If you are deploying to a GitHub user page instead of a project page you&#x27;ll need to make one
additional modification:</p><ol><li>Tweak your <code>package.json</code> scripts to push deployments to <strong>master</strong>:</li></ol><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-diff codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;scripts&quot;: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token unchanged">    &quot;predeploy&quot;: &quot;npm run build&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged"></span><span class="token deleted-sign deleted">-   &quot;deploy&quot;: &quot;gh-pages -d build&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted"></span><span class="token inserted-sign inserted">+   &quot;deploy&quot;: &quot;gh-pages -b master -d build&quot;,</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" class="anchor" id="step-3-deploy-the-site-by-running-npm-run-deploy"></a><a aria-hidden="true" class="hash-link" href="#step-3-deploy-the-site-by-running-npm-run-deploy">#</a>Step 3: Deploy the site by running <code>npm run deploy</code></h3><p>Then run:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-sh codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">npm run deploy</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" class="anchor" id="step-4-for-a-project-page-ensure-your-projects-settings-use-gh-pages"></a><a aria-hidden="true" class="hash-link" href="#step-4-for-a-project-page-ensure-your-projects-settings-use-gh-pages">#</a>Step 4: For a project page, ensure your project’s settings use <code>gh-pages</code></h3><p>Finally, make sure <strong>GitHub Pages</strong> option in your GitHub project settings is set to use the <code>gh-pages</code> branch:</p><img src="https://i.imgur.com/HUjEr9l.png" width="500" alt="gh-pages branch setting"/><h3><a aria-hidden="true" class="anchor" id="step-5-optionally-configure-the-domain"></a><a aria-hidden="true" class="hash-link" href="#step-5-optionally-configure-the-domain">#</a>Step 5: Optionally, configure the domain</h3><p>You can configure a custom domain with GitHub Pages by adding a <code>CNAME</code> file to the <code>public/</code> folder.</p><p>Your CNAME file should look like this:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">mywebsite.com</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" class="anchor" id="notes-on-client-side-routing"></a><a aria-hidden="true" class="hash-link" href="#notes-on-client-side-routing">#</a>Notes on client-side routing</h3><p>GitHub Pages doesn’t support routers that use the HTML5 <code>pushState</code> history API under the hood (for example, React Router using <code>browserHistory</code>). This is because when there is a fresh page load for a url like <code>http://user.github.io/todomvc/todos/42</code>, where <code>/todos/42</code> is a frontend route, the GitHub Pages server returns 404 because it knows nothing of <code>/todos/42</code>. If you want to add a router to a project hosted on GitHub Pages, here are a couple of solutions:</p><ul><li>You could switch from using HTML5 history API to routing with hashes. If you use React Router, you can switch to <code>hashHistory</code> for this effect, but the URL will be longer and more verbose (for example, <code>http://user.github.io/todomvc/#/todos/42?_k=yknaj</code>). <a href="https://reacttraining.com/react-router/web/api/Router">Read more</a> about different history implementations in React Router.</li><li>Alternatively, you can use a trick to teach GitHub Pages to handle 404s by redirecting to your <code>index.html</code> page with a custom redirect parameter. You would need to add a <code>404.html</code> file with the redirection code to the <code>build</code> folder before deploying your project, and you’ll need to add code handling the redirect parameter to <code>index.html</code>. You can find a detailed explanation of this technique <a href="https://github.com/rafrex/spa-github-pages">in this guide</a>.</li></ul><h3><a aria-hidden="true" class="anchor" id="troubleshooting"></a><a aria-hidden="true" class="hash-link" href="#troubleshooting">#</a>Troubleshooting</h3><h4><a aria-hidden="true" class="anchor" id="devtty-no-such-a-device-or-address"></a><a aria-hidden="true" class="hash-link" href="#devtty-no-such-a-device-or-address">#</a>&quot;/dev/tty: No such a device or address&quot;</h4><p>If, when deploying, you get <code>/dev/tty: No such a device or address</code> or a similar error, try the following:</p><ol><li>Create a new <a href="https://github.com/settings/tokens">Personal Access Token</a></li><li><code>git remote set-url origin https://&lt;user&gt;:&lt;token&gt;@github.com/&lt;user&gt;/&lt;repo&gt;</code> .</li><li>Try <code>npm run deploy</code> again</li></ol><h4><a aria-hidden="true" class="anchor" id="cannot-read-property-email-of-null"></a><a aria-hidden="true" class="hash-link" href="#cannot-read-property-email-of-null">#</a>&quot;Cannot read property &#x27;email&#x27; of null&quot;</h4><p>If, when deploying, you get <code>Cannot read property &#x27;email&#x27; of null</code>, try the following:</p><ol><li><code>git config --global user.name &#x27;&lt;your_name&gt;&#x27;</code></li><li><code>git config --global user.email &#x27;&lt;your_email&gt;&#x27;</code></li><li>Try <code>npm run deploy</code> again</li></ol><h2><a aria-hidden="true" class="anchor" id="heroku"></a><a aria-hidden="true" class="hash-link" href="#heroku">#</a><a href="https://www.heroku.com/">Heroku</a></h2><p>Use the <a href="https://github.com/mars/create-react-app-buildpack">Heroku Buildpack for Create React App</a>.</p><p>You can find instructions in <a href="https://blog.heroku.com/deploying-react-with-zero-configuration">Deploying React with Zero Configuration</a>.</p><h3><a aria-hidden="true" class="anchor" id="resolving-heroku-deployment-errors"></a><a aria-hidden="true" class="hash-link" href="#resolving-heroku-deployment-errors">#</a>Resolving Heroku Deployment Errors</h3><p>Sometimes <code>npm run build</code> works locally but fails during deploy via Heroku. Following are the most common cases.</p><h4><a aria-hidden="true" class="anchor" id="module-not-found-error-cannot-resolve-file-or-directory"></a><a aria-hidden="true" class="hash-link" href="#module-not-found-error-cannot-resolve-file-or-directory">#</a>&quot;Module not found: Error: Cannot resolve &#x27;file&#x27; or &#x27;directory&#x27;&quot;</h4><p>If you get something like this:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">remote: Failed to create a production build. Reason:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">remote: Module not found: Error: Cannot resolve &#x27;file&#x27; or &#x27;directory&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">MyDirectory in /tmp/build_1234/src</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>It means you need to ensure that the lettercase of the file or directory you <code>import</code> matches the one you see on your filesystem or on GitHub.</p><p>This is important because Linux (the operating system used by Heroku) is case sensitive. So <code>MyDirectory</code> and <code>mydirectory</code> are two distinct directories and thus, even though the project builds locally, the difference in case breaks the <code>import</code> statements on Heroku remotes.</p><h4><a aria-hidden="true" class="anchor" id="could-not-find-a-required-file"></a><a aria-hidden="true" class="hash-link" href="#could-not-find-a-required-file">#</a>&quot;Could not find a required file.&quot;</h4><p>If you exclude or ignore necessary files from the package you will see a error similar this one:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">remote: Could not find a required file.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">remote:   Name: `index.html`</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">remote:   Searched in: /tmp/build_a2875fc163b209225122d68916f1d4df/public</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">remote:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">remote: npm ERR! Linux 3.13.0-105-generic</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">remote: npm ERR! argv &quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/node&quot; &quot;/tmp/build_a2875fc163b209225122d68916f1d4df/.heroku/node/bin/npm&quot; &quot;run&quot; &quot;build&quot;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>In this case, ensure that the file is there with the proper lettercase and that’s not ignored on your local <code>.gitignore</code> or <code>~/.gitignore_global</code>.</p><h2><a aria-hidden="true" class="anchor" id="netlify"></a><a aria-hidden="true" class="hash-link" href="#netlify">#</a><a href="https://www.netlify.com/">Netlify</a></h2><p><strong>To do a manual deploy to Netlify’s CDN:</strong></p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-sh codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">npm install netlify-cli -g</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">netlify deploy</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>Choose <code>build</code> as the path to deploy.</p><p><strong>To setup continuous delivery:</strong></p><p>With this setup Netlify will build and deploy when you push to git or open a pull request:</p><ol><li><a href="https://app.netlify.com/signup">Start a new netlify project</a></li><li>Pick your Git hosting service and select your repository</li><li>Click <code>Build your site</code></li></ol><p><strong>Support for client-side routing:</strong></p><p>To support <code>pushState</code>, make sure to create a <code>public/_redirects</code> file with the following rewrite rules:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">/*  /index.html  200</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>When you build the project, Create React App will place the <code>public</code> folder contents into the build output.</p><h2><a aria-hidden="true" class="anchor" id="zeit-now"></a><a aria-hidden="true" class="hash-link" href="#zeit-now">#</a><a href="https://zeit.co">ZEIT Now</a></h2><p><a href="https://zeit.co">ZEIT Now</a> is a cloud platform for websites and serverless APIs, that you can use to deploy your Create React App projects to your personal domain (or a free <code>.now.sh</code> suffixed URL).</p><p>This guide will show you how to get started in a few quick steps:</p><h3><a aria-hidden="true" class="anchor" id="step-1-installing-now-cli"></a><a aria-hidden="true" class="hash-link" href="#step-1-installing-now-cli">#</a>Step 1: Installing Now CLI</h3><p>To install their command-line interface with <a href="https://www.npmjs.com/package/now">npm</a>, run the following command:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-shell codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> i -g now</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h3><a aria-hidden="true" class="anchor" id="step-2-deploying"></a><a aria-hidden="true" class="hash-link" href="#step-2-deploying">#</a>Step 2: Deploying</h3><p>You can deploy your application by running the following command in the root of the project directory:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-shell codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">now</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p><strong>Alternatively</strong>, you can also use their integration for <a href="https://zeit.co/github">GitHub</a> or <a href="https://zeit.co/gitlab">GitLab</a>.</p><p>That’s all!</p><p>Your site will now deploy, and you will receive a link similar to the following: <a href="https://react.now-examples.now.sh">https://react.now-examples.now.sh</a></p><p>Out of the box, you are preconfigured for client-side routing compatibility and appropriate default caching headers. This behaviour can be overwritten <a href="https://zeit.co/docs/v2/advanced/routes/">like this</a>.</p><h2><a aria-hidden="true" class="anchor" id="render"></a><a aria-hidden="true" class="hash-link" href="#render">#</a><a href="https://render.com">Render</a></h2><p>Render offers free <a href="https://render.com/docs/static-sites">static site</a> hosting with fully managed SSL, a global CDN and continuous auto deploys from GitHub.</p><p>Deploy your app in only a few minutes by following the <a href="https://render.com/docs/deploy-create-react-app">Create React App deployment guide</a>.</p><p>Use invite code <code>cra</code> to sign up or use <a href="https://render.com/i/cra">this link</a>.</p><h2><a aria-hidden="true" class="anchor" id="s3-and-cloudfront"></a><a aria-hidden="true" class="hash-link" href="#s3-and-cloudfront">#</a><a href="https://aws.amazon.com/s3">S3</a> and <a href="https://aws.amazon.com/cloudfront/">CloudFront</a></h2><p>See this <a href="https://medium.com/@omgwtfmarc/deploying-create-react-app-to-s3-or-cloudfront-48dae4ce0af">blog post</a> on how to deploy your React app to Amazon Web Services S3 and CloudFront. If you are looking to add a custom domain, HTTPS and continuous deployment see this <a href="https://medium.com/dailyjs/a-guide-to-deploying-your-react-app-with-aws-s3-including-https-a-custom-domain-a-cdn-and-58245251f081">blog post</a>.</p><h2><a aria-hidden="true" class="anchor" id="surge"></a><a aria-hidden="true" class="hash-link" href="#surge">#</a><a href="https://surge.sh/">Surge</a></h2><p>Install the Surge CLI if you haven’t already by running <code>npm install -g surge</code>. Run the <code>surge</code> command and log in you or create a new account.</p><p>When asked about the project path, make sure to specify the <code>build</code> folder, for example:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-sh codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">project path: /path/to/project/build</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>Note that in order to support routers that use HTML5 <code>pushState</code> API, you may want to rename the <code>index.html</code> in your build folder to <code>200.html</code> before deploying to Surge. This <a href="https://surge.sh/help/adding-a-200-page-for-client-side-routing">ensures that every URL falls back to that file</a>.</p><h2><a aria-hidden="true" class="anchor" id="publishing-components-to-npm"></a><a aria-hidden="true" class="hash-link" href="#publishing-components-to-npm">#</a>Publishing Components To npm</h2><p>Create React App doesn&#x27;t provide any built-in functionality to publish a component to npm. If you&#x27;re ready to extract a component from your project so other people can use it, we recommend moving it to a separate directory outside of your project and then using a tool like <a href="https://github.com/insin/nwb#react-components-and-libraries">nwb</a> to prepare it for publishing.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/docschina/create-react-app/edit/master/docusaurus/docs/deployment.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated<!-- --> <!-- -->on<!-- --> <strong>2019-10-30</strong> <!-- -->by <strong>QC-L</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/title-and-meta-tags"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« <!-- -->Title and Meta Tags</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/can-i-use-decorators"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Can I Use Decorators?<!-- --> »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#static-server" class="contents__link">Static Server</a></li><li><a href="#other-solutions" class="contents__link">Other Solutions</a></li><li><a href="#serving-apps-with-client-side-routing" class="contents__link">Serving Apps with Client-Side Routing</a></li><li><a href="#building-for-relative-paths" class="contents__link">Building for Relative Paths</a><ul class=""><li><a href="#serving-the-same-build-from-different-paths" class="contents__link">Serving the Same Build from Different Paths</a></li></ul></li><li><a href="#customizing-environment-variables-for-arbitrary-build-environments" class="contents__link">Customizing Environment Variables for Arbitrary Build Environments</a></li><li><a href="#aws-amplify" class="contents__link">AWS Amplify</a></li><li><a href="#azure" class="contents__link">Azure</a></li><li><a href="#firebase" class="contents__link">Firebase</a></li><li><a href="#github-pages" class="contents__link">GitHub Pages</a><ul class=""><li><a href="#step-1-add-homepage-to-packagejson" class="contents__link">Step 1: Add homepage to package.json</a></li><li><a href="#step-2-install-gh-pages-and-add-deploy-to-scripts-in-packagejson" class="contents__link">Step 2: Install gh-pages and add deploy to scripts in package.json</a></li><li><a href="#step-3-deploy-the-site-by-running-npm-run-deploy" class="contents__link">Step 3: Deploy the site by running npm run deploy</a></li><li><a href="#step-4-for-a-project-page-ensure-your-projects-settings-use-gh-pages" class="contents__link">Step 4: For a project page, ensure your project’s settings use gh-pages</a></li><li><a href="#step-5-optionally-configure-the-domain" class="contents__link">Step 5: Optionally, configure the domain</a></li><li><a href="#notes-on-client-side-routing" class="contents__link">Notes on client-side routing</a></li><li><a href="#troubleshooting" class="contents__link">Troubleshooting</a></li></ul></li><li><a href="#heroku" class="contents__link">Heroku</a><ul class=""><li><a href="#resolving-heroku-deployment-errors" class="contents__link">Resolving Heroku Deployment Errors</a></li></ul></li><li><a href="#netlify" class="contents__link">Netlify</a></li><li><a href="#zeit-now" class="contents__link">ZEIT Now</a><ul class=""><li><a href="#step-1-installing-now-cli" class="contents__link">Step 1: Installing Now CLI</a></li><li><a href="#step-2-deploying" class="contents__link">Step 2: Deploying</a></li></ul></li><li><a href="#render" class="contents__link">Render</a></li><li><a href="#s3-and-cloudfront" class="contents__link">S3 and CloudFront</a></li><li><a href="#surge" class="contents__link">Surge</a></li><li><a href="#publishing-components-to-npm" class="contents__link">Publishing Components To npm</a></li></ul></div></div></div></div></div></div></main></div>
</div>

<script type="text/javascript" src="/runtime~main.f509cf178559c7eae9cf.js"></script>

<script type="text/javascript" src="/main.bf24e1a13e43805416f8.js"></script>

<script type="text/javascript" src="/0.e55f004855b886b44500.js"></script>

<script type="text/javascript" src="/1.fad08ad7ad26180951c4.js"></script>

<script type="text/javascript" src="/component---theme-doc-page-1-be-9be.ff51142faa7213238523.js"></script>

<script type="text/javascript" src="/docsMetadata---docs-1-da-721.879d3171929c66791ea4.js"></script>

<script type="text/javascript" src="/component---theme-doc-item-178-a40.39ecd5d8386c94a502af.js"></script>

<script type="text/javascript" src="/content---docs-deploymente-33-fd8.635abf849422efcc0036.js"></script>

<script type="text/javascript" src="/metadata---docs-deploymentfe-3-d7f.08c84fe44660ffc82e9b.js"></script>

</body>
</html>