(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{192:function(e,n,r){"use strict";r.r(n),r.d(n,"frontMatter",(function(){return l})),r.d(n,"rightToc",(function(){return p})),r.d(n,"default",(function(){return i}));r(58),r(31),r(22),r(23),r(59),r(0);var a=r(228);function t(){return(t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var l={id:"loading-graphql-files",title:"\u52a0\u8f7d .graphql \u6587\u4ef6",sidebar_label:"\u52a0\u8f7d .graphql \u6587\u4ef6"},p=[],o={rightToc:p},c="wrapper";function i(e){var n=e.components,r=function(e,n){if(null==e)return{};var r,a,t={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],n.indexOf(r)>=0||(t[r]=e[r]);return t}(e,["components"]);return Object(a.b)(c,t({},o,r,{components:n,mdxType:"MDXLayout"}),Object(a.b)("p",null,"\u8981\u52a0\u8f7d ",Object(a.b)("inlineCode",{parentName:"p"},".gql")," \u548c ",Object(a.b)("inlineCode",{parentName:"p"},".graphql")," \u6587\u4ef6\uff0c\u8bf7\u5148\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5b89\u88c5 ",Object(a.b)("a",t({parentName:"p"},{href:"https://www.npmjs.com/package/graphql"}),Object(a.b)("inlineCode",{parentName:"a"},"graphql"))," \u548c ",Object(a.b)("a",t({parentName:"p"},{href:"https://www.npmjs.com/package/graphql.macro"}),Object(a.b)("inlineCode",{parentName:"a"},"graphql.macro")),"\uff1a"),Object(a.b)("pre",null,Object(a.b)("code",t({parentName:"pre"},{className:"language-sh"}),"npm install --save graphql graphql.macro\n")),Object(a.b)("p",null,"\u6216\u8005\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 ",Object(a.b)("inlineCode",{parentName:"p"},"yarn"),"\uff1a"),Object(a.b)("pre",null,Object(a.b)("code",t({parentName:"pre"},{className:"language-sh"}),"yarn add graphql graphql.macro\n")),Object(a.b)("p",null,"\u7136\u540e\uff0c\u6bcf\u5f53\u4f60\u8981\u52a0\u8f7d ",Object(a.b)("inlineCode",{parentName:"p"},".gql")," \u6216 ",Object(a.b)("inlineCode",{parentName:"p"},".graphql")," \u6587\u4ef6\u65f6\uff0c\u8bf7\u4ece macro \u5305\u4e2d\u5f15\u5165 ",Object(a.b)("inlineCode",{parentName:"p"},"loader"),"\uff1a"),Object(a.b)("pre",null,Object(a.b)("code",t({parentName:"pre"},{className:"language-js"}),"import { loader } from 'graphql.macro';\n\nconst query = loader('./foo.graphql');\n")),Object(a.b)("p",null,"\u4f60\u7684\u7ed3\u679c\u5c06\u4f1a\u81ea\u52a8\u5185\u8054\uff01\u8fd9\u610f\u5473\u7740\u5982\u679c\u4e0a\u9762\u7684\u6587\u4ef6\uff0c",Object(a.b)("inlineCode",{parentName:"p"},"foo.graphql"),"\uff0c\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a"),Object(a.b)("pre",null,Object(a.b)("code",t({parentName:"pre"},{className:"language-graphql"}),"query {\n  hello {\n    world\n  }\n}\n")),Object(a.b)("p",null,"\u4e4b\u524d\u7684\u793a\u4f8b\u4f1a\u53d8\u4e3a\uff1a"),Object(a.b)("pre",null,Object(a.b)("code",t({parentName:"pre"},{className:"language-javascript"}),"const query = {\n  'kind': 'Document',\n  'definitions': [{\n    ...\n  }],\n  'loc': {\n    ...\n    'source': {\n      'body': '\\\\\\\\n  query {\\\\\\\\n    hello {\\\\\\\\n      world\\\\\\\\n    }\\\\\\\\n  }\\\\\\\\n',\n      'name': 'GraphQL request',\n      ...\n    }\n  }\n};\n")),Object(a.b)("p",null,"\u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528 ",Object(a.b)("inlineCode",{parentName:"p"},"gql")," \u6a21\u7248\u6807\u7b7e\uff0c\u5c31\u50cf\u4f7f\u7528 ",Object(a.b)("inlineCode",{parentName:"p"},"graphql-tag")," \u5305\u4e2d\u7684 non-macro \u7248\u672c\u4e00\u6837\uff0c\u540c\u6837\u62e5\u6709\u5185\u8054\u89e3\u6790\u7ed3\u679c\u7684\u4f18\u70b9\u3002"),Object(a.b)("pre",null,Object(a.b)("code",t({parentName:"pre"},{className:"language-js"}),"import { gql } from 'graphql.macro';\n \nconst query = gql`\n  query User {\n    user(id: 5) {\n      lastName\n      ...UserEntry1\n    }\n  }\n`;\n")))}i.isMDXComponent=!0},228:function(e,n,r){"use strict";r.d(n,"a",(function(){return o})),r.d(n,"b",(function(){return u}));var a=r(0),t=r.n(a),l=t.a.createContext({}),p=function(e){var n=t.a.useContext(l),r=n;return e&&(r="function"==typeof e?e(n):Object.assign({},n,e)),r},o=function(e){var n=p(e.components);return t.a.createElement(l.Provider,{value:n},e.children)};var c="mdxType",i={inlineCode:"code",wrapper:function(e){var n=e.children;return t.a.createElement(t.a.Fragment,{},n)}},b=Object(a.forwardRef)((function(e,n){var r=e.components,a=e.mdxType,l=e.originalType,o=e.parentName,c=function(e,n){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===n.indexOf(a)&&(r[a]=e[a]);return r}(e,["components","mdxType","originalType","parentName"]),b=p(r),u=a,m=b[o+"."+u]||b[u]||i[u]||l;return r?t.a.createElement(m,Object.assign({},{ref:n},c,{components:r})):t.a.createElement(m,Object.assign({},{ref:n},c))}));function u(e,n){var r=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=r.length,p=new Array(l);p[0]=b;var o={};for(var i in n)hasOwnProperty.call(n,i)&&(o[i]=n[i]);o.originalType=e,o[c]="string"==typeof e?e:a,p[1]=o;for(var u=2;u<l;u++)p[u]=r[u];return t.a.createElement.apply(null,p)}return t.a.createElement.apply(null,r)}b.displayName="MDXCreateElement"}}]);